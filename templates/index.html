{% extends '_base.html' %}

{% block title %}Press On Nails India | Buy Premium Reusable Nails Online ‚Äì NailMart
{% endblock %}
{% block seo %}
<meta name="description"
content="Buy premium press-on nails online in India. Reusable salon-quality nail designs, custom nails & fast delivery. Trusted by nail artists." />
{% endblock %}

{% block content %}


<!-- <section class="relative pt-8 md:pt-10 pb-6      keeping for gap between category bar and hero banner -->
<section class="-mt-6 pt-2 pb-8
bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))]
from-pink-100 via-white to-purple-100 relative overflow-hidden">

<div class="snowfall"></div>

  <div class="swiper heroSwiper">
    <div class="swiper-wrapper">

      <!-- SLIDE 1 -->
      <div class="swiper-slide hero-slide hero-aurora">

        <div class="max-w-6xl mx-auto px-6 grid md:grid-cols-2 gap-8 items-center">
          <div>
            <h1 class="text-4xl md:text-5xl font-extrabold text-gray-900 leading-tight">
              Premium Press-On Nails üíÖüèª
            </h1>

            <p class="sr-only">
              Press on nails online India, reusable nails, custom nail designs
            </p>

            <p class="mt-4 text-lg text-gray-600 max-w-md">
              Salon-quality reusable nails. Hand-crafted designs. Delivered across India.
            </p>
<div class="hero-mobile-info hidden">
  üí∞ Starting from ‚Çπ299 ¬∑ üöö Free Shipping Above ‚Çπ999<br>
  ‚ôªÔ∏è Reusable ¬∑ üáÆüá≥ Made for Indian Nails
</div>

            <div class="mt-6 flex gap-4">
              <a href="{{ url_for('all_products') }}"
 class="px-7 py-3 rounded-full text-white font-bold shadow-xl
        hover:scale-105 transition-transform"
 style="background: linear-gradient(to right, #ec4899, #8b5cf6);">

                Shop Now
              </a>

             <a href="https://wa.me/919330482697" target="_blank"
 class="px-6 py-3 rounded-full font-semibold
        border border-white/40 text-white
        hover:bg-white/10 transition">

                Custom Design
              </a>
            </div>

            <div class="mt-5 flex flex-wrap gap-x-4 gap-y-2 text-sm text-gray-300">
  <span class="flex items-center gap-1">
    ‚≠ê 4.6/5 Rated
  </span>
  <span class="flex items-center gap-1">
    üáÆüá≥ Indian Fit
  </span>
  <span class="flex items-center gap-1">
    üì¶ Free Shipping*
  </span>
  <span class="flex items-center gap-1">
    ‚ôªÔ∏è Reusable
  </span>
</div>

          </div>

          <div class="flex justify-center">
            <img src="{{ url_for('static', filename='images/hero_nails.png') }}"
                 alt="Premium press on nails India"
                 class="max-w-sm w-full drop-shadow-xl">
          </div>
        </div>
      </div>

      <!-- SLIDE 2 -->
      <div class="swiper-slide hero-slide hero-night">


        <div class="max-w-6xl mx-auto px-6 grid md:grid-cols-2 gap-8 items-center">
          <div>
            <h2 class="text-4xl md:text-5xl font-extrabold text-gray-900">
              Custom Press-On Nails
            </h2>
            <p class="mt-4 text-lg text-gray-600 max-w-md">
              Designed for your nail shape. Reusable. Salon-perfect fit.
            </p>

            <div class="mt-6">
              <a href="{{ url_for('contact') }}"
                 class="px-6 py-3 rounded-full text-white font-semibold shadow-lg"
                 style="background: linear-gradient(to right, #7c3aed, #ec4899);">
                Request Custom Design
              </a>
            </div>
          </div>

          <div class="flex justify-center">
            <img src="{{ url_for('static', filename='images/hero_custom.png') }}"
                 class="max-w-sm w-full drop-shadow-xl"
                 alt="Custom press on nails India">
          </div>
        </div>
      </div>

      <!-- SLIDE 3 -->
     <div class="swiper-slide hero-slide hero-winter">

        <div class="max-w-6xl mx-auto px-6 grid md:grid-cols-2 gap-8 items-center">
          <div>
            <h2 class="text-4xl md:text-5xl font-extrabold text-gray-900">
              Reusable ¬∑ Premium ¬∑ Indian Fit
            </h2>
            <p class="mt-4 text-lg text-gray-600 max-w-md">
              Loved by customers across India. Long-lasting & damage-free.
            </p>

            <div class="mt-6">
              <a href="{{ url_for('all_products') }}"
                 class="px-6 py-3 rounded-full text-white font-semibold shadow-lg"
                 style="background: linear-gradient(to right, #ec4899, #f59e0b);">
                Explore Collection
              </a>
            </div>
          </div>

          <div class="flex justify-center">
            <img src="{{ url_for('static', filename='images/hero_collection.png') }}"
                 class="max-w-sm w-full drop-shadow-xl"
                 alt="Reusable press on nails India">
          </div>
        </div>
      </div>

    </div>

    <!-- PAGINATION -->
    <div class="swiper-pagination"></div>
  </div>
</section>
<div id="mobileHeroCTA" class="mobile-hero-cta hidden">
  <a href="{{ url_for('all_products') }}" class="cta-btn">
    üõçÔ∏è Browse Designs
  </a>
</div>

  
<section id="categoryBar">


  <div class="max-w-6xl mx-auto px-4 relative">
      <div class="swiper mySwiperCategories">
      <div class="swiper-wrapper">
        {% for category in categories %}
        <div class="swiper-slide flex justify-center">
          <a href="{{ url_for('category_page', category_slug=category.name|slugify) }}"
   data-category="{{ category.name|lower|replace(' ', '-') }}"
             class="flex flex-col items-center text-center group relative category-link">
            
            <div class="w-20 h-20 mx-auto rounded-full bg-white shadow-lg overflow-hidden 
            transform transition duration-300 group-hover:scale-110 flex items-center justify-center">

  {% if category.image %}
      {% if category.image.startswith('http') %}
          {# Cloudinary URL #}
          <img src="{{ category.image }}"
               alt="{{ category.name }}"
               class="w-full h-full object-cover object-center">
      {% else %}
          {# Old/local static path #}
          <img src="{{ url_for('static', filename=category.image) }}"
               alt="{{ category.name }}"
               class="w-full h-full object-cover object-center">
      {% endif %}
  {% else %}
      {# Fallback placeholder #}
      <img src="{{ url_for('static', filename='images/placeholder.png') }}"
           alt="{{ category.name }}"
           class="w-full h-full object-cover object-center">
  {% endif %}
</div>

             

            <h3 class="mt-3 text-gray-800 text-sm font-semibold
           group-hover:text-purple-600 transition-colors duration-300">
              {{ category.name }}
            </h3>
            
            <div class="category-spinner hidden"></div>
          </a>
        </div>
        {% endfor %}
      </div>

      
    </div>
  </div>
 



   
</section>
<section class="bg-white py-6 border-t border-b">
  <div class="max-w-6xl mx-auto px-6 grid grid-cols-2 md:grid-cols-4 gap-4 text-center">

    <div class="flex flex-col items-center">
      <i class="fas fa-shipping-fast text-2xl text-purple-600 mb-1"></i>
      <p class="text-sm font-semibold">Fast Delivery</p>
    </div>

    <div class="flex flex-col items-center">
      <i class="fas fa-star text-2xl text-purple-600 mb-1"></i>
      <p class="text-sm font-semibold">Premium Quality</p>
    </div>

    <div class="flex flex-col items-center">
      <i class="fas fa-sync-alt text-2xl text-purple-600 mb-1"></i>
      <p class="text-sm font-semibold">Reusable Nails</p>
    </div>

    <div class="flex flex-col items-center">
      <i class="fab fa-whatsapp text-2xl text-purple-600 mb-1"></i>
      <p class="text-sm font-semibold">WhatsApp Support</p>
    </div>

  </div>
</section>


<style>
  /* ‚è∏ Pause marquee on hover (desktop) */
#customMarquee:hover .marquee-track {
  animation-play-state: paused;
}

  html {
    scroll-behavior: smooth;
  }
</style>
{% for category in categories %}
    {% set products = categorized_artworks.get(category.name) %}
    {% if products %}

<section id="{{ category.name|lower|replace(' ', '-') }}"
         class="py-8 mb-8 bg-white rounded-lg shadow-md section-reveal"
        >



  <div class="container mx-auto px-4">

    <a href="{{ url_for('category_page', category_slug=category.name|slugify) }}"
   data-category="{{ category.name|lower|replace(' ', '-') }}"
       class="block text-center mb-6">
      <h2 class="text-3xl font-bold gradient-link category-heading group">
  {{ category.name|upper }}
  <span class="block text-sm mt-1 opacity-0 group-hover:opacity-100 transition">
    View all {{ category.name }} ‚Üí
  </span>
</h2>

    </a>

    <div class="swiper mySwiper-{{ category|lower|replace(' ', '-') }}">
      <div class="swiper-wrapper">

        {% for product in products %}
        <div class="swiper-slide w-full flex justify-center">

          <div class="product-card bg-white rounded-lg shadow-md overflow-hidden
            transform transition-transform duration-300
            hover:scale-105 hover:shadow-xl flex flex-col relative
            cursor-pointer"
     data-href="{{ url_for('product_detail_slug', slug=product.slug) }}">


<!-- PRODUCT BADGES -->
<div class="absolute top-2 left-2 z-[80] space-y-1 text-xs font-bold">
  {% if loop.index <= 2 %}
    <span class="badge badge-bestseller">üî• BESTSELLER</span>
  {% elif loop.index <= 4 %}
    <span class="badge badge-trending">‚ö° TRENDING</span>
  {% else %}
    <span class="badge badge-new">‚ú® NEW</span>
  {% endif %}
</div>



            <!-- IMAGE (same as old) -->
            <a href="{{ url_for('product_detail_slug', slug=product.slug) }}">
              <div class="h-48 w-full p-2 flex items-center justify-center">
                <img src="{{ product.get_images_list()[0] if product.get_images_list()
                             else url_for('static', filename='images/placeholder.png') }}"
                     alt="{{ product.name }}"
                     class="object-contain max-h-full max-w-full
                            transition-transform duration-300 hover:scale-105">
              </div>
            </a>

            <!-- CONTENT -->
            <div class="p-2 flex flex-col justify-between text-center">
              <div>

                <h3 class="text-sm font-semibold text-gray-900 mb-1 truncate">
                  {{ product.name }}
                </h3>
                <p class="product-hook text-xs text-gray-500">
  Reusable ¬∑ Salon-fit ¬∑ Ready to ship
</p>

<div class="price-box text-center mb-1">

  {# ‚úÖ FINAL PRICE ‚Äì BACKEND SOURCE #}
  {% set final_price = product.final_price_incl_gst_and_shipping %}
  {% set fake_mrp = final_price * 125 // 100 %}

  <span class="text-base font-bold text-primary final-price">
    {{ final_price | currency }}
  </span>

  {% if final_price >= 199 %}
    <div class="text-xs text-gray-500">
      <span class="line-through mr-1">
        {{ fake_mrp | currency }}
      </span>
      <span class="text-green-600 font-semibold">
        You save {{ (fake_mrp - final_price) | currency }}
      </span>
    </div>
  {% endif %}

  <p class="text-xs text-gray-500">(Final Price ¬∑ Incl. GST & Shipping)</p>
</div>


                <!-- ‚≠ê STARS (UNCHANGED) -->
                {% set rating = [4.0, 4.2, 4.5, 4.7, 4.8]|random %}
<div class="flex items-center justify-center mb-1">
  <div class="text-yellow-400 text-xs">
    {% for i in range(rating|int) %}
      <i class="fas fa-star"></i>
    {% endfor %}
    {% if rating - (rating|int) >= 0.5 %}
      <i class="fas fa-star-half-alt"></i>
    {% endif %}
  </div>
  <span class="text-xs text-gray-600 ml-1">({{ rating }}/5)</span>
</div>


                {% if product.shipping_charge == 0 %}
                  <p class="text-green-600 font-semibold text-xs mb-1">
                    <i class="fas fa-truck mr-1"></i> Free Delivery
                  </p>
                {% endif %}


              </div>

              <!-- BUTTON (ORANGE ‚Äì SAME AS SCREENSHOT) -->
              <div class="flex justify-center mt-2">
                {% if product.stock > 0 %}
                  <a href="{{ url_for('product_detail', sku=product.sku) }}"
                    class="btn btn-primary px-3 py-1 text-xs w-full view-details-btn"
                    onclick="handleCardClick(event, this)">
                    <span class="btn-text">View Details</span>
                    <span class="btn-spinner hidden ml-2">
                      <i class="fas fa-spinner fa-spin"></i>
                    </span>
                  </a>

                {% else %}
                  <button class="btn btn-secondary px-3 py-1 text-xs w-full
                                 opacity-60 cursor-not-allowed" disabled>
                    Out of Stock
                  </button>
                {% endif %}
              </div>

            </div>
          </div>

        </div>
       
        {% endfor %}

      </div>
    </div>

  </div>
</section>
   {% endif %}

   {# ‚úÖ EDITORIAL BANNER ‚Äì SAFE PLACE #}
   {% if loop.index is divisibleby 2 %}
   <section class="py-14 bg-gradient-to-br from-pink-50 to-purple-50 section-reveal">
     <div class="container mx-auto px-6 text-center">

       <h3 class="text-3xl md:text-4xl font-extrabold text-gray-900 mb-4">
         üî• Best Sellers This Week
       </h3>

       <p class="text-lg text-gray-600 max-w-2xl mx-auto mb-8">
         Most loved nail designs by our customers.
  Limited stock. Ready to ship.
       </p>

       <a href="{{ url_for('all_products') }}"
   class="inline-block px-8 py-3 rounded-full text-white font-semibold shadow-lg hover:scale-105 transition-transform"
   style="background: linear-gradient(to right, #F88379, #E9746A, #DA655B, #FF9288) !important;">
   Explore All Designs ‚Üí
</a>

     </div>
   </section>
   {% endif %}

{% endfor %}




    <section class="fade-section py-16 bg-primary text-white text-center">
        <div class="container mx-auto">
            <h2 class="fade-item text-4xl font-extrabold mb-6">Find Your Perfect Nail Match üíñ</h2>
            <p class="fade-item text-lg md:text-xl max-w-3xl mx-auto mb-8">
                Each artwork at Nail Mart India is exclusively curated for you. Find the piece that resonates with your Nail.
            </p>
            <a href="{{ url_for('all_products') }}" class="fade-item btn bg-white text-primary text-xl px-8 py-4 rounded-full shadow-lg hover:bg-gray-100 transform hover:scale-105 transition-all duration-300">
                Begin Your Journey <i class="fas fa-leaf ml-2"></i>
            </a>
        </div>
    </section>

    <section class="fade-section py-16 bg-gradient-to-br from-yellow-50 to-orange-50 text-gray-800">
    <div class="container mx-auto text-center">
        <h2 class="fade-item text-4xl font-extrabold mb-6 text-primary">Nail Academy</h2>

            <p class="fade-item text-lg md:text-xl max-w-3xl mx-auto mb-8 leading-relaxed">
                Nail Care Tips
            </p>
            <a href="{{ url_for('about') }}" class="fade-item btn btn-success text-xl px-8 py-4 rounded-full shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300">
    Special Nail Ideas - How to protect your Glam <i class="fas fa-heart ml-2"></i>
</a>
        </div>
    </section>

    <section class="fade-section py-16 bg-gradient-to-br from-orange-50 to-yellow-100 text-gray-800">
    <div class="container mx-auto text-center">
        
        <a href="{{ url_for('contact') }}" class="fade-item btn btn-primary text-xl px-8 py-4 rounded-full shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300">
            Contact for Bulk Orders <i class="fas fa-hand-holding-heart ml-2"></i>
        </a>
    </div>
</section>



    <section class="fade-section py-16 bg-gradient-to-br from-yellow-50 to-orange-100 text-gray-800">
        <div class="container mx-auto text-center">
            <h2 class="fade-item text-4xl font-extrabold mb-10 text-primary">Voices of Excitement</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                {% for testimonial in testimonials %}
                <div class="fade-item bg-white p-6 rounded-lg shadow-lg flex flex-col items-center text-center transform transition-transform duration-300 hover:scale-[1.02] hover:shadow-xl">
                    <img src="{{ url_for('static', filename=testimonial.image) }}" alt="{{ testimonial.name }}" class="w-24 h-24 rounded-full object-cover mb-4 border-4 border-primary shadow-md">
                    <p class="text-lg font-medium mb-3">"{{ testimonial.feedback }}"</p>
                    <div class="text-yellow-500 mb-2">
                        {% for i in range(testimonial.rating) %}<i class="fas fa-star"></i>{% endfor %}
                        {% if testimonial.rating % 1 != 0 %}<i class="fas fa-star-half-alt"></i>{% endif %}
                    </div>
                    <p class="font-semibold text-gray-700">- {{ testimonial.name }}</p>
                    {% if testimonial.product_sku %}
                    <a href="{{ url_for('product_detail', sku=testimonial.product_sku) }}" class="text-sm text-blue-600 hover:underline mt-2">View Artwork</a>
                    {% endif %}
                </div>
                {% endfor %}
            </div>
        </div>
    </section>

<div class="container my-4 text-center">
  <a href="https://www.youtube.com/@KarthikaStories" target="_blank" 
     class="text-lg sm:text-xl font-semibold text-blue-600 hover:underline">
    <i class="fab fa-youtube text-red-600 mr-2"></i>
    @dey_moupriya_15 ‚Äî Watch Nail stories on our channel 

  </a>
</div>

    <div id="fullImageView" class="fixed inset-0 bg-black bg-opacity-80 hidden z-50 flex items-center justify-center">
    <div class="relative max-w-3xl w-full" onclick="closeFullImage(event)">
        <img id="fullImage" class="w-full max-h-screen object-contain relative">
        <div class="absolute inset-0 pointer-events-none z-20 flex flex-wrap justify-center items-center text-white text-lg font-bold opacity-40">
            {% for i in range(12) %}<div class="m-4 -rotate-45">Karthikafutures</div>{% endfor %}
        </div>
        <button onclick="closeFullImage(event)" class="absolute top-4 right-4 text-white text-2xl">&times;</button>
    
      </div>
</div>


{% endblock %}

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
const heroSwiper = new Swiper(".heroSwiper", {
  effect: "fade",
  fadeEffect: { crossFade: true },
  loop: true,
  speed: 900,
  autoplay: {
    delay: 4200,
    disableOnInteraction: false,
  },
  pagination: {
    el: ".heroSwiper .swiper-pagination",
    clickable: true,
  },
});


  const marquee = document.getElementById("customMarquee");
  const track = marquee?.querySelector(".marquee-track");

  if (marquee && track) {
    marquee.addEventListener("touchstart", () => {
      track.style.animationPlayState = "paused";
    });

    marquee.addEventListener("touchend", () => {
      track.style.animationPlayState = "running";
    });
  }


document.querySelectorAll(".category-link").forEach(link => {
  link.addEventListener("click", function () {
    document.querySelectorAll(".category-link")
      .forEach(l => l.classList.remove("active"));

    this.classList.add("active");
  });
});


    function hideAllSpinners() {
        const spinners = document.querySelectorAll('.category-spinner');
        spinners.forEach(spinner => {
            spinner.classList.add('hidden');
        });
    }

    document.addEventListener("DOMContentLoaded", function () {
        hideAllSpinners(); // Hide spinners on initial page load
        const revealSections = document.querySelectorAll(".section-reveal");

const revealObserver = new IntersectionObserver(entries => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
  entry.target.classList.add("visible");
  revealObserver.unobserve(entry.target); // üîë animate once
}

  });
}, { threshold: 0.2 });

revealSections.forEach(sec => revealObserver.observe(sec));


        const fadeSections = document.querySelectorAll(".fade-section");

        const observer = new IntersectionObserver((entries) => {
            entries.forEach((entry) => {
                if (entry.isIntersecting) {
                    const fadeItems = entry.target.querySelectorAll(".fade-item");
                    fadeItems.forEach((item, index) => {
                        setTimeout(() => {
                            item.classList.add("fade-visible");
                        }, index * 150); // stagger delay
                    });
                } else {
                    const fadeItems = entry.target.querySelectorAll(".fade-item");
                    fadeItems.forEach((item) => {
                        item.classList.remove("fade-visible");
                    });
                }
            });
        }, { threshold: 0.15 });

        fadeSections.forEach((section) => {
            observer.observe(section);
        });
    });

    // Handle the "pageshow" event for bfcache
   window.addEventListener('pageshow', function(event) {
    if (event.persisted) {
        hideAllSpinners();
        resetViewDetailButtons(); // ‚úÖ ADD THIS
    }
});


    function openFullImage(imageUrl) {
        const popup = document.getElementById("fullImageView");
        const popupImage = document.getElementById("fullImage");
        popupImage.src = imageUrl;
        popup.classList.remove("hidden");
        document.body.style.overflow = 'hidden';
    }

    function closeFullImage(event) {
        if (event) {
            event.stopPropagation();
        }
        document.getElementById("fullImageView").classList.add("hidden");
        document.body.style.overflow = 'auto';
    }

    // Initialize the Categories Carousel with Coverflow effect
    // Initialize the Categories Carousel
    const swiperCategories = new Swiper(".mySwiperCategories", {
        slidesPerView: 1,
        spaceBetween: 20,
        loop: true,
        autoplay: {
            delay: 2300,
            disableOnInteraction: false,
        },
        breakpoints: {
            640: {
                slidesPerView: 2,
                spaceBetween: 20,
            },
            768: {
                slidesPerView: 3,
                spaceBetween: 30,
            },
            1024: {
                slidesPerView: 5,
                spaceBetween: 40,
            },
        },
    });


    // Initialize Swiper for each product category section
    const categoryCarousels = document.querySelectorAll("[class*='mySwiper-']");
    categoryCarousels.forEach(carousel => {
    const swiperInstance = new Swiper(carousel, {
        effect: "coverflow",
        grabCursor: true,
        centeredSlides: true,
        loop: true,
        slidesPerView: "auto",
        preventClicks: false,
        preventClicksPropagation: false,
        slideToClickedSlide: false, // Prevents accidental jumping
        
        on: {
            click: function (swiper, event) {
                // 1. Check if the user clicked the card or something inside it
                const card = event.target.closest('.product-card');
                
                // 2. Check if they clicked an actual button or link (don't interfere with those)
                const isActionable = event.target.closest('a, button');

                if (card && !isActionable) {
                  const btn = card.querySelector(".view-details-btn");
                  if (btn) {
                    btn.click(); // reuse the same logic
                  }
                }

            },
        },
        // ... keep your existing coverflowEffect and breakpoints
    coverflowEffect: {
        rotate: 0,
        stretch: 80,
        depth: 200,
        modifier: 1,
        slideShadows: false,
    },

            
            autoplay: {
                delay: 4200,          // slower = premium
                pauseOnMouseEnter: true, // user control
                disableOnInteraction: false,
            },
            speed: 1600,

            
            pagination: false,
           
            
            breakpoints: {
                0: {
                    slidesPerView: 1.5,
                    coverflowEffect: {
                        stretch: 40,
                        depth: 100,
                    }
                },
                768: {
                    slidesPerView: 2.5,
                    coverflowEffect: {
                        stretch: 60,
                        depth: 150,
                    }
                },
                1024: {
                    slidesPerView: 3,
                    coverflowEffect: {
                        stretch: 80,
                        depth: 200,
                    }
                },
            },
        });
    });

   var swiperFeatured = new Swiper(".mySwiperFeatured", {
    effect: "coverflow",
    grabCursor: false,
    centeredSlides: true,
    loop: true,
    slidesPerView: "auto",
    
    coverflowEffect: {
        rotate: 0,
        stretch: 80,
        depth: 200,
        modifier: 1,
        slideShadows: false,
    },
    
    autoplay: {
        delay: 3000,
        disableOnInteraction: false,
    },
    speed: 1000,

    
    
    breakpoints: {
        0: {
            slidesPerView: 1.5,
            coverflowEffect: {
                stretch: 40,
                depth: 100,
            }
        },
        768: {
            slidesPerView: 2.5,
            coverflowEffect: {
                stretch: 60,
                depth: 150,
            }
        },
        1024: {
            slidesPerView: 3,
            coverflowEffect: {
                stretch: 80,
                depth: 200,
            }
        },
    },
});


  function handleCardClick(event, button) {
    // Prevent double clicks
    event.preventDefault();

    // Stop ALL Swipers immediately
    if (typeof Swiper !== "undefined") {
      document.querySelectorAll(".swiper").forEach(swiperEl => {
        if (swiperEl.swiper) {
          swiperEl.swiper.autoplay.stop();
        }
      });
    }

    // Disable the button
    button.classList.add("opacity-70", "pointer-events-none");

    // Swap text ‚Üí spinner
    const text = button.querySelector(".btn-text");
    const spinner = button.querySelector(".btn-spinner");
    if (text && spinner) {
      text.textContent = "Loading...";
      spinner.classList.remove("hidden");
    }

    // Navigate after tiny delay (UX polish)
    const url = button.getAttribute("href");
    setTimeout(() => {
      window.location.href = url;
    }, 250);
  }

  function resetViewDetailButtons() {
    document.querySelectorAll('.view-details-btn').forEach(btn => {
      // Re-enable button
      btn.classList.remove('opacity-70', 'pointer-events-none');

      // Restore text
      const text = btn.querySelector('.btn-text');
      const spinner = btn.querySelector('.btn-spinner');
      if (text) text.textContent = 'View Details';
      if (spinner) spinner.classList.add('hidden');
    });

    // Restart Swipers (important UX polish)
    if (typeof Swiper !== "undefined") {
      document.querySelectorAll(".swiper").forEach(swiperEl => {
        if (swiperEl.swiper && swiperEl.swiper.autoplay) {
          swiperEl.swiper.autoplay.start();
        }
      });
    }
  }

// üì± Show sticky CTA only after hero scroll
const heroSection = document.querySelector(".heroSwiper");
const mobileCTA = document.getElementById("mobileHeroCTA");

if (heroSection && mobileCTA) {
  const observer = new IntersectionObserver(
    ([entry]) => {
      mobileCTA.classList.toggle("hidden", entry.isIntersecting);
    },
    { threshold: 0.2 }
  );
  observer.observe(heroSection);
}



</script>





<style>
  
/* üéØ FINAL ‚Äì COMPACT CATEGORY HEADING (AUTHORITATIVE) */
.category-heading {
  display: inline-block;
  padding: 0.32rem 1.1rem;   /* üîª height reduced */
  border-radius: 999px;

  background: linear-gradient(to right, #7c3aed, #ec4899);
  color: #ffffff !important;

  font-weight: 700;
  font-size: 1.02rem;       /* slightly smaller */
  line-height: 1.1;         /* tighter vertical space */
  text-align: center;
  white-space: nowrap;

  box-shadow: 0 4px 14px rgba(124, 58, 237, 0.28);
  position: relative;
  overflow: hidden;
}

/* üåü SAFE SHINE ‚Äì no vibration */
.category-heading::after {
  content: "";
  position: absolute;
  top: 0;
  left: -60%;
  width: 60%;
  height: 100%;
  background: linear-gradient(
    120deg,
    rgba(255,255,255,0) 0%,
    rgba(255,255,255,0.35) 50%,
    rgba(255,255,255,0) 100%
  );
  animation: shine-safe 5s ease-in-out infinite;
  pointer-events: none;
}

/* üì± Mobile micro-trim */
@media (max-width: 768px) {
  .category-heading {
    padding: 0.28rem 0.95rem;
    font-size: 0.98rem;
    box-shadow: 0 4px 12px rgba(124, 58, 237, 0.3);
  }
}


/* STEP 5A ‚Äî Premium category hover */
@media (min-width: 768px) {
  .category-link {
    transition: transform 0.25s ease;
  }

  .category-link:hover {
    transform: translateY(-6px);
  }

  .category-link:hover .w-32 {
    box-shadow: 0 12px 28px rgba(124, 58, 237, 0.35);
    transform: scale(1.12);
  }

  .category-link h3 {
    transition: all 0.25s ease;
  }

  .category-link:hover h3 {
    letter-spacing: 0.6px;
    color: #6d28d9;
  }
}

  /* Price animation ‚Äì subtle & premium */
.final-price {
  animation: priceFadeIn 0.6s ease-out both;
}

@keyframes priceFadeIn {
  from {
    opacity: 0;
    transform: translateY(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* STEP 3B ‚Äì Reduce category icon size (desktop only) */
@media (min-width: 1024px) {
  /*#categoryBar .w-32 {
    width: 6.5rem;
    height: 6.5rem;
  } */
@media (min-width: 1024px) {
}
/* STEP 4 ‚Äì Active category subtle indicator */
.category-link.active h3 {
  position: relative;
}

.category-link.active h3::after {
  content: "";
  display: block;
  margin: 6px auto 0;
  width: 40%;
  height: 2px;
  background: linear-gradient(to right, #9333ea, #ec4899);
  border-radius: 999px;
}


  /* Ensure the card content is definitely on top and clickable */
.product-card > div, 
.product-card > a {
    position: relative;
    z-index: 30 !important;
    pointer-events: auto !important;
}
    /* Add this to your style.css if the issue persists 
.swiper-slide {
    width: auto !important;   
}
     .......*/

     .product-card {
  pointer-events: auto !important;
  z-index: 20; /* Ensure it stays above the swiper-wrapper background */
}

/* Ensure the wrapper doesn't eat the click */
.swiper-wrapper {
  pointer-events: auto !important;
}
/* ‚úÖ FORCE SWIPER SLIDES TO BE CLICKABLE */
.swiper,
.swiper-wrapper,
.swiper-slide {
  pointer-events: auto !important;
}

.product-card {
  border: none !important;        /* Removes the hard border line */
    background: #ffffff;
    border-radius: 12px;
    /* Soft shadow "shady" effect from your screenshot */
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08) !important; 
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  position: relative;
   
  overflow: visible;   /* üîë allow clicks to pass */
}

.product-card::before {
  content: "";
  position: absolute;
  inset: 0;
  padding: 0.85px; /* thin border thickness */
  border-radius: inherit;
  background: linear-gradient(
    90deg,
    #fa0251,
    #9333ea,
    #f59e0b,
    #10b981,
    #3b82f6
  );
  background-size: 400% 400%; /* make it bigger so it can move */
  animation: moveBorder 6s linear infinite;
  -webkit-mask: 
    linear-gradient(#fff 0 0) content-box, 
    linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude;
}

@keyframes moveBorder {
  0%   { background-position: 0% 50%; }
  50%  { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}



/* STEP 4A ‚Äî Make Explore Category bar compact */
#categoryBar .max-w-6xl {
  max-width: 1100px; /* reduced from full wide */
}
/* STEP 4B ‚Äî Reduce space between icon & name */
.category-link h3 {
  margin-top: 0.4rem !important; /* reduced from mt-3 */
}
/* STEP 4C ‚Äî Premium subtle hover (desktop only) */
@media (min-width: 768px) {
  .category-link {
    transition: transform 0.25s ease;
  }

  .category-link:hover {
    transform: translateY(-4px);
  }

  .category-link:hover .w-32 {
    transform: scale(1.08);
    box-shadow: 0 10px 24px rgba(124, 58, 237, 0.35);
  }

  .category-link h3 {
    transition: color 0.25s ease, letter-spacing 0.25s ease;
  }

  .category-link:hover h3 {
    color: #6d28d9;
    letter-spacing: 0.5px;
  }
}
/* STEP 5A ‚Äî Premium animated gradient for Category Bar 
#categoryBar {
  background: linear-gradient(
    270deg,
    rgba(147,51,234,0.9),
    rgba(236,72,153,0.9),
    rgba(99,102,241,0.9)
  );
  background-size: 400% 400%;
  animation: categoryGradient 14s ease infinite;
} */

/* Soft animation (luxury, not distracting) */
@keyframes categoryGradient {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}




.product-card::before {
  pointer-events: none; /* ‚úÖ allows clicks to pass through */
  z-index: 5;
}

/* Ensure content is physically above the animated border */
.product-card > a, 
.product-card > div {
    position: relative;
    z-index: 10 !important; 
    pointer-events: auto !important;
}

/* Ensure the pseudo-element border stays in the background */
.product-card::before {
    z-index: -1; 
    pointer-events: none !important;
}
/* Add this to ensure content is above the border */
.product-card > * {
  position: relative;
  z-index: 10;
}


    /* Spinner for Category Images */
.category-link {
    position: relative;
}

.category-spinner {
    border: 4px solid rgba(255, 255, 255, 0.3);
    border-top: 4px solid #FFD700; /* Gold color */
    border-radius: 50%;
    width: 30px;
    height: 30px;
    animation: spin 1s linear infinite;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 10;
}

@keyframes spin {
    0% { transform: translate(-50%, -50%) rotate(0deg); }
    100% { transform: translate(-50%, -50%) rotate(360deg); }
}

/* Ensure the link container is positioned */
.category-link {
    position: relative;
}
    .watermark-overlay {
        background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="100"><text x="100" y="50" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="rgba(0, 0, 0, 0.1)" text-anchor="middle" transform="rotate(-45 100 50)">NailMall</text></svg>');
        background-repeat: repeat;
        background-size: 200px 100px;
        z-index: 10;
    }

    .bg-within {
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        border-radius: 1rem;
        overflow: hidden;
    }
/* Gentle upward reveal (luxury feel) */
.section-reveal {
  opacity: 0;
  transform: translateY(40px);
  transition: opacity 0.9s ease, transform 0.9s ease;
}

.section-reveal.visible {
  opacity: 1;
  transform: translateY(0);
}

    .fade-section {
        opacity: 1;
    }

    .fade-item {
        opacity: 0;
        transform: translateY(25px);
        transition: opacity 0.9s ease, transform 0.9s ease;
    }

    .fade-item.fade-visible {
        opacity: 1;
        transform: translateY(0);
    }

    
    .temple-bg {
        background-image: url('{{ url_for('static', filename='images/temple_bg.png') }}');
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        opacity: 0.2;
    }

    @media (max-width: 640px) {
        .temple-bg {
            background-size: contain;
            background-position: top center;
        }
    }
    /* Add this to your style.css if the issue persists 
.swiper-slide {
    width: auto !important;   
}
     .......*/


/* Gradient text */
/*sers visually know it‚Äôs clickable*/
.product-card {
  cursor: pointer;
}   


.category-heading:hover {
    transform: translateY(-2px) scale(1.03);
    box-shadow: 0 10px 22px rgba(99, 102, 241, 0.28);
}
.swiper-slide {
  overflow: visible !important;
}

.swiper-wrapper {
  overflow: visible !important;
}

/* Product badges */
.badge {
  display: inline-block;
  padding: 5px 10px;
  border-radius: 999px;
  color: #fff;
  font-weight: 700;
  background: rgba(0,0,0,0.65);   /* üîë mobile visibility */
  box-shadow: 0 4px 12px rgba(0,0,0,0.35);
  letter-spacing: 0.4px;
}
@media (max-width: 640px) {
  .badge {
    font-size: 10px;
    backdrop-filter: blur(6px);
  }
}

.badge-bestseller {
  background: linear-gradient(135deg, #ef4444, #f97316);
}

.badge-trending {
  background: linear-gradient(135deg, #8b5cf6, #ec4899);
}

.badge-new {
  background: linear-gradient(135deg, #10b981, #22c55e);
}
.badge {
  background-clip: padding-box;
  backdrop-filter: blur(4px);
  white-space: nowrap;
}

.announcement-bar {
  background: linear-gradient(to right, #7c3aed, #ec4899);
  color: white;
  text-align: center;
  font-size: 14px;
  font-weight: 600;
  padding: 6px 10px;
  overflow: hidden;
}

.announcement-text {
  display: none;
  animation: fadeSlide 0.6s ease;
}

.announcement-text.active {
  display: inline-block;
}

@keyframes fadeSlide {
  from {
    opacity: 0;
    transform: translateY(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes blink-underline {
  0%, 50%, 100% {
    opacity: 1;
  }
  25%, 75% {
    opacity: 0;
  }
}
/* FIX: headings not hidden under announcement + navbar + category bar */
section[id] {
  scroll-margin-top: calc(
    var(--announcement-height) +
    var(--navbar-height) +
    32px
  );
}

/* Active category highlight */
.category-link.active .w-32 {
  box-shadow: 0 0 0 4px rgba(147, 51, 234, 0.6);
  transform: scale(1.08);
}

.category-link.active h3 {
  color: #7c3aed; /* purple */
  font-weight: 700;
}


/* ===== HERO SLIDES BASE ===== */
.hero-slide {
  position: relative;
  padding: 3rem 0;      /* üîΩ reduced from 4.5rem */
  min-height: 340px;    /* üîΩ reduced height */
  border-radius: 22px;
  overflow: hidden;
}


/* ‚ùÑÔ∏è WINTER VIBES */
.hero-winter {
  background: radial-gradient(
    circle at top,
    #dbeafe,
    #bfdbfe,
    #93c5fd
  );
}

/* üåå AURORA / COOL CUSTOM */
.hero-aurora {
  background: linear-gradient(
    135deg,
    #0f2027,
    #203a43,
    #2c5364
  );
}

/* üåÉ GLAM NIGHT */
.hero-night {
  background: linear-gradient(
    135deg,
    #020024,
    #090979,
    #1e3a8a
  );
}

/* ===== EMBOSSED HEADING TEXT ===== */
.hero-slide h1,
.hero-slide h2 {
  background: linear-gradient(
    90deg,
    #ffffff,
    #fde68a,
    #ffffff
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow:
    0 2px 4px rgba(0,0,0,0.25),
    0 0 18px rgba(255,255,255,0.35);
}

/* ===== SUBTEXT COLOR FIX FOR DARK SLIDES ===== */
.hero-aurora p,
.hero-night p {
  color: #e5e7eb !important;
}


/* ===== SNOWFALL EFFECT ===== */
.snowfall {
  pointer-events: none;
  position: absolute;
  inset: 0;
  z-index: 30;                 /* üîë KEY FIX */
  background-image:
    radial-gradient(white 1.2px, transparent 1.2px),
    radial-gradient(white 1px, transparent 1px);
  background-size: 90px 90px, 140px 140px;
  animation: snowMove 18s linear infinite;
  opacity: 0.45;
}

@keyframes snowMove {
  from {
    background-position: 0 0, 0 0;
  }
  to {
    background-position: 0 800px, 0 1200px;
  }
}
section { margin-bottom: 0rem; }
/* üì± HERO MOBILE COMPACT FIX */
@media (max-width: 640px) {
  .hero-slide {
    padding: 2rem 0 !important;
    min-height: 260px !important;
  }

  .hero-slide h1,
  .hero-slide h2 {
    font-size: 1.9rem !important;
    line-height: 1.2;
  }

  .hero-slide img {
    max-width: 220px;
  }
}
/* ‚ú® HERO SOFT GLOW OVERLAY */
.hero-slide::after {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(
    circle at 30% 20%,
    rgba(255, 255, 255, 0.18),
    rgba(255, 255, 255, 0.05) 40%,
    transparent 70%
  );
  pointer-events: none;
  z-index: 1;
}

/* Ensure content stays above glow */
.hero-slide > * {
  position: relative;
  z-index: 2;
}
/* üéØ HERO SWIPER PAGINATION POLISH */
.heroSwiper .swiper-pagination-bullet {
  width: 8px;
  height: 8px;
  background: rgba(255, 255, 255, 0.5);
  opacity: 1;
  margin: 0 6px !important;
  transition: all 0.3s ease;
}

.heroSwiper .swiper-pagination-bullet-active {
  width: 18px;
  border-radius: 999px;
  background: linear-gradient(
    to right,
    #ec4899,
    #8b5cf6
  );
  box-shadow: 0 0 12px rgba(236, 72, 153, 0.7);
}
/* üß† HERO TEXT CLARITY BOOST */
.hero-slide h1,
.hero-slide h2 {
  filter: drop-shadow(0 3px 8px rgba(0,0,0,0.45));
}

.hero-slide p {
  text-shadow: 0 2px 6px rgba(0,0,0,0.35);
}
/* üñ±Ô∏è HERO MICRO-HOVER (DESKTOP ONLY) */
@media (min-width: 1024px) {
  .hero-slide {
    transition: transform 0.6s ease;
  }

  .hero-slide:hover {
    transform: scale(1.01);
  }
}
/* üì± MOBILE HERO INFORMATION BOOST */
@media (max-width: 640px) {
  .hero-slide .hero-mobile-info {
    display: block;
    margin-top: 0.75rem;
    font-size: 0.85rem;
    color: #e5e7eb;
    line-height: 1.4;
  }
}
/* üì± MOBILE CTA PRIORITY */
@media (max-width: 640px) {
  .hero-slide .flex.gap-4 a:last-child {
    display: none; /* hide secondary CTA */
  }

  .hero-slide .flex.gap-4 a:first-child {
    width: 100%;
    text-align: center;
  }
}

/* üì± SLIDE LABEL FOR MOBILE */
@media (max-width: 640px) {
  .hero-slide img {
    position: relative;
  }

  .hero-slide img::after {
    content: "Tap to explore designs";
    position: absolute;
    bottom: 8px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0,0,0,0.65);
    color: #fff;
    font-size: 10px;
    padding: 4px 8px;
    border-radius: 999px;
  }
}
/* üì± REDUCE GAP BEFORE FIRST PRODUCT SECTION */
@media (max-width: 640px) {
  section.section-reveal {
    padding-top: 1.25rem !important;
    padding-bottom: 1.5rem !important;
  }
}
/* üì± MOBILE STAR VISIBILITY BOOST */
@media (max-width: 640px) {
  .product-card .fa-star,
  .product-card .fa-star-half-alt {
    font-size: 0.85rem;
  }
}
/* üì± MOBILE HERO TEXT CLARITY ‚Äì FINAL FIX */
@media (max-width: 640px) {

  /* Kill gradient text on mobile */
  .hero-slide h1,
  .hero-slide h2 {
    -webkit-text-fill-color: #111827 !important; /* gray-900 */
    background: none !important;
    text-shadow: none !important;
    filter: none !important;
  }

  /* Make description text darker */
  .hero-slide p {
    color: #4b5563 !important; /* gray-600 */
    text-shadow: none !important;
  }
}
@media (max-width: 640px) {
  .hero-slide h1,
  .hero-slide h2 {
    font-size: 2.05rem !important;
    line-height: 1.25 !important;
    font-weight: 800 !important;
  }
}
@media (max-width: 640px) {
  .hero-slide .flex.flex-wrap {
    color: #374151 !important; /* gray-700 */
    font-weight: 600;
  }
}
@media (max-width: 640px) {
  .hero-slide img {
    margin-top: 0.5rem;
    opacity: 0.95;
  }
}
/* ‚ùå REMOVE HERO ROUNDED CORNERS (FINAL) */
/* ‚ùå REMOVE rounded corners ONLY from outer hero */
.hero-slide {
  border-radius: 0 !important;
}

@media (max-width: 640px) {
  .hero-slide > div {
    border-radius: 14px !important;
  }
}
/* ===== GLASS EFFECT CARD ===== */
/* ===== GLASS EFFECT CARD (FINAL SOURCE OF TRUTH) ===== */
.hero-slide > div {
  background: rgba(255,255,255,0.18);
  backdrop-filter: blur(16px);
  border-radius: 18px;        /* desktop */
  padding: 2.5rem;
  box-shadow: 0 24px 50px rgba(0,0,0,0.18);
}

@media (max-width: 640px) {
  .hero-slide > div {
    border-radius: 14px;      /* mobile */
  }
}


  .product-card {
    border-radius: 10px !important;
  }

  .product-card .h-48 {
    height: 160px !important; /* reduce image container height */
  }

  .product-card img {
    max-height: 140px;
  }
}
@media (max-width: 640px) {

  .final-price {
    font-size: 1.1rem !important;
    font-weight: 800 !important;
  }

  .view-details-btn {
    font-size: 0.8rem !important;
    padding: 6px 10px !important;
  }
}
@media (max-width: 640px) {
  .badge {
    padding: 4px 8px !important;
    font-size: 9.5px !important;
  }
}
@media (max-width: 640px) {
  section {
    margin-bottom: 0.5rem !important;
  }

  section.section-reveal {
    margin-bottom: 1rem !important;
  }
}
/* üì± STICKY HERO CTA (MOBILE ONLY) */
@media (max-width: 640px) {
  .mobile-hero-cta {
    position: sticky;
    top: calc(var(--announcement-height) + var(--navbar-height) + 52px);
    z-index: 6000;
    background: #fff;
    padding: 8px 12px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.12);
  }

  .mobile-hero-cta .cta-btn {
    display: block;
    width: 100%;
    text-align: center;
    background: linear-gradient(to right, #ec4899, #8b5cf6);
    color: #fff;
    font-weight: 800;
    padding: 10px;
    border-radius: 10px;
  }
}
@media (max-width: 640px) {
  .product-card {
    transition: transform 0.15s ease;
  }

  .product-card:active {
    transform: scale(0.97);
  }
}
@media (max-width: 640px) {
  .product-card .text-xs.text-gray-500 {
    display: none;
  }
}
@media (max-width: 640px) {
  .product-hook {
    margin-bottom: 4px;
    font-weight: 600;
  }
}
@media (max-width: 640px) {
  .section-reveal + .section-reveal {
    margin-top: 0.75rem !important;
  }
}
/* üì± MOBILE HERO SPACING FIX */
@media (max-width: 640px) {
  .hero-slide > div {
    padding: 1.25rem !important; /* from 2.5rem */
  }
}
/* üì± MOBILE HERO BUTTON FIX */
@media (max-width: 640px) {
  .hero-slide a {
    padding: 0.6rem 1.1rem !important;
    font-size: 0.9rem;
    border-radius: 999px;
  }

  /* Secondary CTA visibility */
  .hero-slide a.border {
    opacity: 0.9;
    border-width: 1.5px;
  }
}
@media (max-width: 640px) {
  .hero-slide .flex.gap-4 {
    gap: 0.5rem;
  }
}
/* üì± FIX HUGE GAP ABOVE SWIPER PAGINATION (MOBILE ONLY) */
@media (max-width: 640px) {
  .heroSwiper .swiper-pagination {
    margin-top: 6px !important;
    bottom: 8px !important;
    position: relative;
  }

  .heroSwiper .swiper-slide {
    padding-bottom: 8px !important;
  }
}
@media (max-width: 640px) {
  .hero-slide > div {
    margin-bottom: 0 !important;
  }
}
/* üö´ REMOVE RESERVED SPACE ABOVE PAGINATION (FINAL FIX) */
@media (max-width: 640px) {
  .heroSwiper {
    padding-bottom: 0 !important;
  }

  .heroSwiper .swiper-pagination {
    position: absolute !important;
    bottom: 6px !important;
    left: 0;
    right: 0;
    margin: 0 !important;
    padding: 0 !important;
  }

  .heroSwiper .swiper-wrapper,
  .heroSwiper .swiper-slide {
    padding-bottom: 0 !important;
    margin-bottom: 0 !important;
  }
}

@media (max-width: 640px) {
  .hero-slide {
    padding-bottom: 1.2rem !important;
  }
}

</style>
{% endblock %}